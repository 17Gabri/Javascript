<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Senate Data</title>
</head>

<body>
    <table id="senateData">
        <button onclick="genera_tabla()">Tabla</button>
    </table>
    <script src="senate.js"></script>
    <script>

        function genera_tabla() {

            document.getElementById("senateData").innerHTML;
            let body = document.getElementsByTagName("body")[0];
            let tabla = document.createElement("table");
            let tblBody = document.createElement("tbody");

            let heading = new Array();
            heading[0] = "Name"
            heading[1] = "Party"
            heading[2] = "State"
            heading[3] = "Years in Office"
            heading[4] = "% Votes w/ Party"

            let tr = document.createElement("tr");
            tblBody.append(tr);
            for (n = 0; n < heading.length; n++) {
                let th = document.createElement("th");
                th.width = "175";
                th.append(heading[n]);
                tr.append(th);
            }

            for (let i = 0; i < data.results[0].num_results; i++) {
                let hilera = document.createElement("tr");
                for (let j = 0; j < 1; j++) {
                    let celda = document.createElement("td");
                    let textoCelda = (data.results[0].members[i].first_name + " "
                        + data.results[0].members[i].middle_name + " " + data.results[0].members[i].last_name)
                        .link(data.results[0].members[i].url);
                    celda.innerHTML = textoCelda;
                    hilera.append(celda);

                }

                for (let j = 0; j < 1; j++) {
                    let celda = document.createElement("td");
                    let textoCelda = (data.results[0].members[i].party);
                    celda.append(textoCelda);
                    hilera.append(celda);
                }

                for (let j = 0; j < 1; j++) {
                    let celda = document.createElement("td");
                    let textoCelda = (data.results[0].members[i].state);
                    celda.append(textoCelda);
                    hilera.append(celda);
                }

                for (let j = 0; j < 1; j++) {
                    let celda = document.createElement("td");
                    let textoCelda = (data.results[0].members[i].seniority);
                    celda.append(textoCelda);
                    hilera.append(celda);
                }

                for (let j = 0; j < 1; j++) {
                    let celda = document.createElement("td");
                    let textoCelda = (data.results[0].members[i].votes_with_party_pct);
                    celda.append(textoCelda);
                    hilera.append(celda);
                }

                tblBody.append(hilera);

            }
            tabla.append(tblBody);
            body.append(tabla);
            tabla.setAttribute("border", "2");

        }

    </script>
</body>

</html>